
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://outdated.legendu.net/theme/stylesheet/style.min.css">

    <link id="dark-theme-style" rel="stylesheet" type="text/css"
        disabled="disabled"
    href="https://outdated.legendu.net/theme/stylesheet/dark-theme.min.css">

    <link id="pygments-dark-theme" rel="stylesheet" type="text/css"
            disabled="disabled"
          href="https://outdated.legendu.net/theme/pygments/monokai.min.css">
    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://outdated.legendu.net/theme/pygments/github.min.css">


  <link rel="stylesheet"
        type="text/css"
        href="https://outdated.legendu.net/theme/stork/stork.css" />

  <link rel="stylesheet" type="text/css" href="https://outdated.legendu.net/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://outdated.legendu.net/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://outdated.legendu.net/theme/font-awesome/css/solid.css">







 

<meta name="author" content="Ben Chuanlong Du" />
<meta name="description" content="Things under legendu.net/outdated are outdated technologies that the author does not plan to update any more. Please look for better alternatives. Fish Shell is preferred to Bash/Zsh. The following content is for Bash/Zsh only. Bash Reference Manual ExplainShell Seeking Help The best way to seek for …" />
<meta name="keywords" content="shell, terminal, Linux">


  <meta property="og:site_name" content="Ben Chuanlong Du's Blog"/>
  <meta property="og:title" content="Cool Shell/Terminal Commands"/>
  <meta property="og:description" content="Things under legendu.net/outdated are outdated technologies that the author does not plan to update any more. Please look for better alternatives. Fish Shell is preferred to Bash/Zsh. The following content is for Bash/Zsh only. Bash Reference Manual ExplainShell Seeking Help The best way to seek for …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://outdated.legendu.net/blog/cool-shell-commands/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2012-09-18 21:38:38-07:00"/>
  <meta property="article:modified_time" content="2025-12-07 21:07:53-08:00"/>
  <meta property="article:author" content="https://outdated.legendu.net/author/ben-chuanlong-du.html">
  <meta property="article:section" content="OS"/>
  <meta property="article:tag" content="shell"/>
  <meta property="article:tag" content="terminal"/>
  <meta property="article:tag" content="Linux"/>
  <meta property="og:image" content="">

  <title>Ben Chuanlong Du's Blog &ndash; Cool Shell/Terminal Commands</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="https://outdated.legendu.net/">
      <img src="https://outdated.legendu.net/theme/img/profile.png" alt="" title="">
    </a>

    <h1>
      <a href="https://outdated.legendu.net/"></a>
    </h1>

    <p>Change is eternal.</p>

    <div class="stork">
      <input class="stork-input" type="text" autocomplete="off" name="q" data-stork="sitesearch" placeholder="Search..."/>
      <div class="stork-output" data-stork="sitesearch-output"></div>
    </div>


    <ul class="social">
      <li>
        <a class="sc-linkedin"
           href="https://www.linkedin.com/in/ben-chuanlong-du-1239b221/"
           target="_blank">
          <i class="fa-brands fa-linkedin"></i>
        </a>
      </li>
      <li>
        <a class="sc-github"
           href="https://github.com/legendu-net/"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
      <li>
        <a class="sc-stack-overflow"
           href="https://stackoverflow.com/users/7808204/benjamin-du?tab=profile"
           target="_blank">
          <i class="fa-brands fa-stack-overflow"></i>
        </a>
      </li>
      <li>
        <a class="sc-docker"
           href="https://hub.docker.com/u/dclong"
           target="_blank">
          <i class="fa-brands fa-docker"></i>
        </a>
      </li>
      <li>
        <a class="sc-twitter"
           href="https://twitter.com/longendu"
           target="_blank">
          <i class="fa-brands fa-twitter"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>

<nav>
  <a href="https://www.legendu.net">Home</a>
  <a href="https://outdated.legendu.net">Blog</a>
  <a href="https://outdated.legendu.net/archives.html">Archives</a>
  <a href="https://outdated.legendu.net/categories.html">Categories</a>
  <a href="https://outdated.legendu.net/tags.html">Tags</a>
  <a href="https://www.legendu.net/pages/about">About</a>


</nav>

<article class="single">
  <header>
      
    <h1 id="cool-shell-commands">Cool Shell/Terminal Commands</h1>
    <p>
      Posted on Sep 18, 2012 in <a href="https://outdated.legendu.net/category/os.html">OS</a>

    </p>
  </header>


  <div>
    <p><strong>Things under legendu.net/outdated are outdated technologies that the author does not plan to update any more. Please look for better alternatives.</strong></p>
<p><a href="https://www.legendu.net/misc/blog/tips-on-the-fish-shell">Fish Shell</a> 
is preferred to Bash/Zsh.
The following content is for Bash/Zsh only.</p>
<p><a href="http://www.gnu.org/software/bash/manual/bashref.html">Bash Reference Manual</a></p>
<p><a href="https://www.explainshell.com/">ExplainShell</a></p>
<h2 id="seeking-help">Seeking Help</h2>
<p>The best way to seek for help is surely to use a search engine.
However, there are serveral terminal command that can help you quickly.</p>
<ol>
<li>
<p><code>whatis</code> briefly describes what a command does.
    For example,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>whatis<span class="w"> </span>man
man<span class="w"> </span><span class="o">(</span><span class="m">7</span><span class="o">)</span><span class="w">              </span>-<span class="w"> </span>macros<span class="w"> </span>to<span class="w"> </span>format<span class="w"> </span>man<span class="w"> </span>pages
man<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w">              </span>-<span class="w"> </span>an<span class="w"> </span>interface<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>on-line<span class="w"> </span>reference<span class="w"> </span>manuals
</code></pre></div>

</li>
<li>
<p><code>whereis</code> locate the binary, source, and manual page files for a command.</p>
</li>
<li>
<p><code>apropos</code> searches description of commands
    and find these associated with the job you specify.
    For example,</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>apropos<span class="w"> </span>gzip
gzip<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span>-<span class="w"> </span>compress<span class="w"> </span>or<span class="w"> </span>expand<span class="w"> </span>files
zforce<span class="w"> </span><span class="o">(</span><span class="m">1</span><span class="o">)</span><span class="w"> </span>-<span class="w"> </span>force<span class="w"> </span>a<span class="w"> </span><span class="s1">&#39;.gz&#39;</span><span class="w"> </span>extension<span class="w"> </span>on<span class="w"> </span>all<span class="w"> </span>gzip<span class="w"> </span>files
</code></pre></div>

</li>
<li>
<p><code>man</code> display help documentation of commands.
    Note that you display the description of <code>man</code> itself by</p>
<div class="highlight"><pre><span></span><code>man man
</code></pre></div>

<p>When display contents of a file in terminal,
you can use <code>/</code> to search for strings that match the one you specify.
When searching,
you can use <code>n/N</code> to jump to the next/previous match.</p>
</li>
</ol>
<h3 id="retrieving-history-commands">Retrieving History Commands</h3>
<p>It is suggested that you search shell command history using <code>fzf</code>.
For more discussions,
please refer to
<a href="https://www.legendu.net/misc/blog/editing-shell-commands-using-vim">Editing Shell Commands Using Vim</a>
.</p>
<ol>
<li>
<p><code>!!</code> or <code>!:-1</code> stands for the last command.
    <code>!!</code> runs last command and <code>sudo !!</code> runs the last command with <code>sudo</code> permission.</p>
</li>
<li>
<p><code>!n</code> (where <span class="math">\(n\)</span> is a natural number) stands for the <span class="math">\(n^{th}\)</span> command in the command history.</p>
</li>
<li>
<p><code>!-n</code> stands for the last but <span class="math">\(n-1\)</span> command in the command history,</p>
</li>
<li>
<p><code>!foo</code> stands for the most recent command starting with <code>foo</code>.</p>
</li>
<li>
<p><code>history</code> prints out all historical commands (with numbers).</p>
</li>
<li>
<p><code>history -s command</code> saves the specified command to the in-memory history.</p>
</li>
<li>
<p>You can also retrieving history shell commands using the built-in command <code>fc</code>.
    Please refer to 
    <a href="https://www.legendu.net/misc/blog/fix-shell-command-using-fc">Fix Shell Command Using Fc</a>
    for more discussion.</p>
</li>
</ol>
<h3 id="manipulating-commands">Manipulating Commands</h3>
<p>It is suggested that you use <code>ctrl+x</code> <code>ctrl+e</code> or <code>fzf.history</code> 
to edit shell commands.
For more discussions,
please refer to
<a href="https://www.legendu.net/misc/blog/editing-shell-commands-using-vim">Editing Shell Commands Using Vim</a>
.</p>
<ol>
<li>
<p>You can use the suffix <code>:-</code> to get rid of
    the last parameter of the retrieved command.
    For example,
    <code>!!:-</code> stands for the last command without the last parameter.</p>
</li>
<li>
<p><code>^foo^bar^</code> stands for the last command
    with the first occurence of <code>foo</code> replaced by <code>bar</code>.
    The last <code>^</code> can be omitted if no more manipulation on the command is neede.
    (Note that this trick only works for the last command.)</p>
</li>
<li>
<p>You can use the suffix <code>:s/foo/bar/</code> to replace the first occurrence of <code>foo</code> with <code>bar</code>
    in a retrieved command.
    For example,
    <code>!!:s/foo/bar/</code> stands for the last command
    with the first occurrence of <code>foo</code> replaced by <code>bar</code>.
    The last <code>/</code> can be omitted if no more manipulation on the command is needed.</p>
</li>
<li>
<p>You can use the suffix <code>:gs/foo/bar/</code> to replace all occurrences of <code>foo</code> with <code>bar</code>
    in a retrieved command.
    For example,
    <code>!!:gs/foo/bar/</code> stands for the last command
    with all occurences of <code>foo</code> replaced by <code>bar</code>.
    The last <code>/</code> can be omitted if no more manipulation on the command is needed.</p>
</li>
<li>
<p>You can add vanilla strings before and/or after a retrieved command.
    For example,</p>
<ol>
<li>
<p><code>sudo !foo</code> runs the most recent command starting with <code>foo</code> with
    <code>sudo</code> permissions.</p>
</li>
<li>
<p><code>!n:gs/foo/bar/ | less</code> runs the <span class="math">\(n^{th}\)</span> command in the history
    with all occurrences of <code>foo</code> replaced by <code>bar</code>
    and displays the result in <code>less</code> mode.</p>
</li>
<li>
<p><code>sudo ^foo^bar^ | less</code> or <code>sudo !!:s/foo/bar/ | less</code> runs last command
    with <code>sudo</code> permissions and displays the results in <code>less</code> mode.</p>
</li>
</ol>
</li>
</ol>
<h3 id="previeawing-commands">Previeawing Commands</h3>
<p>You can preview (rather than run) a retrived and manipulated (using string substitution) command
by adding the suffix <code>:p</code> to the command.  </p>
<p>In the above commands,
if you add suffix <code>:p</code> (e.g, <code>!!:p</code>),
then the corresponding command is printed to the console without being executed.
Notice that the previewed command will be added to the command history,
so you can press "Arrow Up" key to retrieve it.
<code>^foo^bar^:p</code> <code>!n:gs/foo/bar/:p</code></p>
<h2 id="retrieve-parameter-of-commands">Retrieve Parameter of Commands</h2>
<p>It is suggested that you use <code>ctrl+x</code> <code>ctrl+e</code> or <code>fzf.history</code> 
to edit shell commands.
For more discussions,
please refer to
<a href="https://www.legendu.net/misc/blog/editing-shell-commands-using-vim">Editing Shell Commands Using Vim</a>
.</p>
<ol>
<li>
<p><code>!$</code> stands for the last parameter of last command.</p>
</li>
<li>
<p><code>$_</code> stands for the last parameter of last command.</p>
</li>
<li>
<p><code>!:0</code> stands for the Linux command in the last command.</p>
</li>
<li>
<p><code>!:3-5</code> stands for the third to fifth parameters of the last command.
    If the first argument index is 0, then it can be omitted.
    For example, <code>!:0-2</code> can be simplified as <code>!:-2</code>.
    If the "TO" argument index is omited,
    then the last argument is not included.
    For example, <code>!:3-</code> means the third argument to the last-but-1 argument.
    Specially, <code>!:-</code> stands for last command without the last argument.</p>
</li>
<li>
<p><code>&lt;ESC&gt; .</code> or <code>ALT + .</code> retrieves the last parameter of any previous command.
    Pressed once, it retrives the last parameter of the last command;
    pressed twice, it retrives the last parameter of the 2nd last command,
    and so on and so forth.</p>
</li>
</ol>
<h2 id="retrieve-output-of-commands">Retrieve Output of Commands</h2>
<p>There is no direct way to retrieve the output of the last command.
However,
there are several indirect ways to do this.</p>
<ol>
<li>
<p>Use substitution.
    For example,
    <code>v=`ls`</code> makes <code>v</code> a variable containing the result of last command.</p>
</li>
<li>
<p>Assign result to a variable.
    For example,
    <code>v=$(ls)</code> makes <code>v</code> a variable contining the result of last command.</p>
</li>
<li>
<p>Use <code>$(!!)</code> to retrieve the result of last command.
    Similarly,
    one can use <code>$(!-2)</code> to retrieve the result of the 2nd last command.</p>
</li>
</ol>
<h2 id="references">References</h2>
<ul>
<li><a href="https://wiki.archlinux.org/index.php/Keyboard_Shortcuts">Arch Wiki</a></li>
</ul>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js','color.js','mhchem.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://outdated.legendu.net/tag/shell.html">shell</a>
      <a href="https://outdated.legendu.net/tag/terminal.html">terminal</a>
      <a href="https://outdated.legendu.net/tag/linux.html">Linux</a>
    </p>
  </div>






<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'dclong';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy;  </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
  <span class="footer-separator">|</span>
  Switch to the <a href="javascript:void(0)" onclick="theme.switch(`dark`)">dark</a> | <a href="javascript:void(0)" onclick="theme.switch(`light`)">light</a> | <a href="javascript:void(0)" onclick="theme.switch(`browser`)">browser</a> theme
  <script id="dark-theme-script"
          src="https://outdated.legendu.net/theme/dark-theme/dark-theme.min.js"
          data-enable-auto-detect-theme="False"
          data-default-theme="light"
          type="text/javascript">
  </script>
</p></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Ben Chuanlong Du's Blog ",
  "url" : "https://outdated.legendu.net",
  "image": "",
  "description": ""
}
</script><a href="https://github.com/dclong/outdated" target="_blank" class="github-corner" aria-label="View source on Github">
    <svg width="80"
         height="80"
         viewBox="0 0 250 250"
         style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;"
         aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor"
              style="transform-origin: 130px 106px;"
              class="octo-arm">
        </path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor"
              class="octo-body">
        </path>
    </svg>
</a>
  <script src="https://outdated.legendu.net/theme/stork/stork.js"></script>
  <script>
    stork.register("sitesearch", "https://outdated.legendu.net/search-index.st", {showProgress: false});
  </script>

</body>
</html>