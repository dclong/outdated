
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://outdated.legendu.net/theme/stylesheet/style.min.css">

    <link id="dark-theme-style" rel="stylesheet" type="text/css"
        disabled="disabled"
    href="https://outdated.legendu.net/theme/stylesheet/dark-theme.min.css">

    <link id="pygments-dark-theme" rel="stylesheet" type="text/css"
            disabled="disabled"
          href="https://outdated.legendu.net/theme/pygments/monokai.min.css">
    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://outdated.legendu.net/theme/pygments/github.min.css">


  <link rel="stylesheet"
        type="text/css"
        href="https://outdated.legendu.net/theme/stork/stork.css" />

  <link rel="stylesheet" type="text/css" href="https://outdated.legendu.net/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://outdated.legendu.net/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://outdated.legendu.net/theme/font-awesome/css/solid.css">







 

<meta name="author" content="Ben Chuanlong Du" />
<meta name="description" content="Things under legendu.net/outdated are outdated technologies that the author does not plan to update any more. Please look for better alternatives. ** Things under legendu.net/outdated are outdated technologies that the author does not plan to update any more. Please look for better alternatives. ** SAS on Linux recognize …" />
<meta name="keywords" content="tips, SAS, programming">


  <meta property="og:site_name" content="Ben Chuanlong Du's Blog"/>
  <meta property="og:title" content="Tips on SAS"/>
  <meta property="og:description" content="Things under legendu.net/outdated are outdated technologies that the author does not plan to update any more. Please look for better alternatives. ** Things under legendu.net/outdated are outdated technologies that the author does not plan to update any more. Please look for better alternatives. ** SAS on Linux recognize …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://outdated.legendu.net/blog/sas-tips/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2013-10-10 19:13:40-07:00"/>
  <meta property="article:modified_time" content="2019-05-10 19:13:40-07:00"/>
  <meta property="article:author" content="https://outdated.legendu.net/author/ben-chuanlong-du.html">
  <meta property="article:section" content="Computer Science"/>
  <meta property="article:tag" content="tips"/>
  <meta property="article:tag" content="SAS"/>
  <meta property="article:tag" content="programming"/>
  <meta property="og:image" content="">

  <title>Ben Chuanlong Du's Blog &ndash; Tips on SAS</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="https://outdated.legendu.net/">
      <img src="https://outdated.legendu.net/theme/img/profile.png" alt="" title="">
    </a>

    <h1>
      <a href="https://outdated.legendu.net/"></a>
    </h1>

    <p>Change is eternal.</p>

    <div class="stork">
      <input class="stork-input" type="text" autocomplete="off" name="q" data-stork="sitesearch" placeholder="Search..."/>
      <div class="stork-output" data-stork="sitesearch-output"></div>
    </div>


    <ul class="social">
      <li>
        <a class="sc-linkedin"
           href="https://www.linkedin.com/in/ben-chuanlong-du-1239b221/"
           target="_blank">
          <i class="fa-brands fa-linkedin"></i>
        </a>
      </li>
      <li>
        <a class="sc-github"
           href="https://github.com/legendu-net/"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
      <li>
        <a class="sc-stack-overflow"
           href="https://stackoverflow.com/users/7808204/benjamin-du?tab=profile"
           target="_blank">
          <i class="fa-brands fa-stack-overflow"></i>
        </a>
      </li>
      <li>
        <a class="sc-docker"
           href="https://hub.docker.com/u/dclong"
           target="_blank">
          <i class="fa-brands fa-docker"></i>
        </a>
      </li>
      <li>
        <a class="sc-twitter"
           href="https://twitter.com/longendu"
           target="_blank">
          <i class="fa-brands fa-twitter"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>

<nav>
  <a href="https://www.legendu.net">Home</a>
  <a href="https://outdated.legendu.net">Blog</a>
  <a href="https://outdated.legendu.net/archives.html">Archives</a>
  <a href="https://outdated.legendu.net/categories.html">Categories</a>
  <a href="https://outdated.legendu.net/tags.html">Tags</a>
  <a href="https://www.legendu.net/pages/about">About</a>


</nav>

<article class="single">
  <header>
      
    <h1 id="sas-tips">Tips on SAS</h1>
    <p>
      Posted on Oct 10, 2013 in <a href="https://outdated.legendu.net/category/computer-science.html">Computer Science</a>

    </p>
  </header>


  <div>
    <p><strong>Things under legendu.net/outdated are outdated technologies that the author does not plan to update any more. Please look for better alternatives.</strong></p>
<p>**
Things under legendu.net/outdated are outdated technologies 
that the author does not plan to update any more. 
Please look for better alternatives.
**</p>
<ol>
<li>
<p>SAS on Linux recognize <code>~</code> as the home directory of users.</p>
</li>
<li>
<p>good to use a profile (containing database use and password, etc.) and %include it ...
    e.g., .sas_profile</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nf">%include</span> <span class="s">&quot;~/.sas_profile&quot;</span>;
</code></pre></div>

<h2 id="library">Library</h2>
<ol>
<li>
<p>There are at least two ways to get the path of the temporary <code>work</code> library.
    The first way is to right click on the <code>work</code> library
    and choose <code>Property ...</code>.
    The second way is to run the following code.</p>
<div class="highlight"><pre><span></span><code><span class="nf">%put</span><span class="w"> </span><span class="nf">%sysfunc</span><span class="p">(</span><span class="n">getoption</span><span class="p">(</span><span class="n">work</span><span class="p">));</span>
</code></pre></div>

<p>However, 
the path returned by these 2 ways might not be correct (which is really annoying).
If you want to keep datasets in the "work" library,
you can copy it to another permanent library.
To do this, </p>
<div class="highlight"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="kd">data</span><span class="n">sets</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="s">&quot;work&quot;</span><span class="w"> </span><span class="n">library</span><span class="p">,</span>
<span class="mf">2.</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="n">click</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">copy</span>
<span class="mf">3.</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="n">click</span><span class="w"> </span><span class="kr">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">permanent</span><span class="w"> </span><span class="n">library</span>
<span class="mf">4.</span><span class="w"> </span><span class="n">choose</span><span class="w"> </span><span class="n">paste</span><span class="mf">.</span>
</code></pre></div>

<p>Or you can use the <code>datasets</code> procedure directly.</p>
<div class="highlight"><pre><span></span><code><span class="k">proc</span><span class="w"> </span><span class="nv">datasets</span><span class="w"> </span><span class="nv">library</span><span class="o">=</span><span class="nv">source</span><span class="c1">;</span>
<span class="w">   </span><span class="nf">copy</span><span class="w"> </span><span class="nv">out</span><span class="o">=</span><span class="nv">dest</span><span class="c1">;</span>
<span class="nf">run</span><span class="c1">;</span>
</code></pre></div>

</li>
<li>
<p>Do not use the "work" library to save important datasets.
    Always use a (permanent) library.</p>
</li>
<li>
<p>SAS is case-insensitive. 
    It does not matter whether you use upper or lower case 
    for keywords, functions, data set names, etc. in SAS.
    However, 
    strings/characters are case-sensitive. 
    For example, 
    <code>"good"</code> and <code>"GOOD"</code> are different as characters. 
    This matters when your SAS code relies on string comparisons.
    A file path is case-insensitive in Windows but case-sensitive in Linux,<br>
    so a file path in SAS running on a Windows server is case-insensitive 
    but case-sensitive in SAS running on a Linux server.
    A tricky situation where case matters is 
    when a macro variable is embedded in double quotes 
    to be used it as a string value.</p>
</li>
</ol>
<h2 id="procedures">procedures</h2>
<ol>
<li>
<p>metalib (for user name, password information and so on)
    LIBNAME CRE_DATA BASE "/var/userdata/CPRA/Users/ub66536”
    you have additional key word base 
    (this fixes a SAS stored process problem, 
    if you cannot run a stored process, maybe permission)</p>
</li>
<li>
<p>lag and dif functions very useful ...
    can we combine lag and diff? yes
    lag does not work on variables that don't exist in the table
    so you cannot use lag on new variables
    instead, you should use retain</p>
</li>
<li>
<p>termstr, according to files created on different operating systems ...
    use different termstr </p>
</li>
</ol>
<h2 id="other-tips">Other tips</h2>
<ol>
<li>
<p>dm statement is the display manager ...</p>
</li>
<li>
<p>It is very slow to display results in HTML format when there are massive results. 
    Instead of using the prin procedure, it might be much faster to just rerun the code. </p>
</li>
<li>
<p>The <code>pwencode</code> procedure encodes password 
    and let you use it in place of plaintext passwords in SAS programs 
    that access relational database management systems (RDBSMs) and various servers.</p>
</li>
</ol>
<h2 id="options">Options</h2>
<ol>
<li>The global key <code>options</code> in SAS has an alias <code>option</code>. 
    However, it is suggested that you always use <code>options</code> instead of <code>option</code> 
    when setting SAS system options.<div class="highlight"><pre><span></span><code>sas proc sql stimer option;
options macrogen symbolgen;
option mprint symbolgen;
</code></pre></div>

</li>
</ol>
<h2 id="syntax">Syntax</h2>
<ol>
<li>
<p>be careful when you copy sas code from a non-text editor (e.g., MS Word).
    It might screw up special symbols, such as the double quotes,
    which results in syntax error.</p>
</li>
<li>
<p>SAS has many pre-mature syntax sugars. For example, </p>
<div class="highlight"><pre><span></span><code>data _null_;
    x = intnx(&#39;week&#39;, &#39;17oct03&#39;d, 6);
    put x= date9.;
run;
</code></pre></div>

<p>However, 
it is suggested that you use the following way instead 
as it is more consistent with other programming languages.</p>
<div class="highlight"><pre><span></span><code>data _null_;
    x = intnx(&#39;week&#39;, &#39;17oct03&#39;d, 6);
    put &#39;x = &#39; x date9.;
run;
</code></pre></div>

</li>
<li>
<p>You can use l &lt;= x &lt;= u conditions in a SAS where statement,
    which is more convenient.
    We can also do this in python.</p>
</li>
<li>
<p>The keyword descending in the sort procedure must be before the variable it describes in proc sort.</p>
</li>
</ol>
<h3 id="naming">Naming</h3>
<ol>
<li>
<p>Names of engines, filerefs, librefs and passwords can be at most 8 characters;
    names of call routines, functions and procedures can be at most 16 characters;
    all other variable names can have at least 28 characters.</p>
</li>
<li>
<p>You can use _SomeVar as macro variable names.
    It seems that some people like to use this naming convention.
    I think this is to avoid name confliction.
    To avoid name confliction, 
    a good way is to use _ followed by a sequence of random digits (e.g., _2893478219903).</p>
</li>
</ol>
<h2 id="random">Random</h2>
<ol>
<li>
<p>ranuni, call ranuni, unifrom, call randgen
    use a negative seed to use time as seed,
    which is recommended</p>
</li>
<li>
<p><code>&amp;&amp;x&amp;i.</code>, <code>&amp;&amp;x.&amp;i.</code> 
    <code>.</code> is not makeing things clear, from this view, you know which is right!</p>
</li>
</ol>
<h2 id="branch">branch</h2>
<ol>
<li>only the first statment following an if ... then ... clause is run.
    If you want to run run multiple statements in a if ... then ... branch,
    you have to include them in a do ... end block.</li>
</ol>
<h2 id="references">References</h2>
<ul>
<li><a href="http://duanzy.blogspot.com/">CFA SAS FRM Statistics Finance</a></li>
</ul>
<p>http://www.jiangtanghu.com/blog/2012/10/16/incorporate-sasiml-to-base-sas/</p>
<p>http://support.sas.com/documentation/cdl/en/imlug/64248/HTML/default/viewer.htm#imlug_procs_sect005.htm</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://outdated.legendu.net/tag/tips.html">tips</a>
      <a href="https://outdated.legendu.net/tag/sas.html">SAS</a>
      <a href="https://outdated.legendu.net/tag/programming.html">programming</a>
    </p>
  </div>






<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'dclong';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy;  </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
  <span class="footer-separator">|</span>
  Switch to the <a href="javascript:void(0)" onclick="theme.switch(`dark`)">dark</a> | <a href="javascript:void(0)" onclick="theme.switch(`light`)">light</a> | <a href="javascript:void(0)" onclick="theme.switch(`browser`)">browser</a> theme
  <script id="dark-theme-script"
          src="https://outdated.legendu.net/theme/dark-theme/dark-theme.min.js"
          data-enable-auto-detect-theme="False"
          data-default-theme="light"
          type="text/javascript">
  </script>
</p></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Ben Chuanlong Du's Blog ",
  "url" : "https://outdated.legendu.net",
  "image": "",
  "description": ""
}
</script><a href="https://github.com/dclong/outdated" target="_blank" class="github-corner" aria-label="View source on Github">
    <svg width="80"
         height="80"
         viewBox="0 0 250 250"
         style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;"
         aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor"
              style="transform-origin: 130px 106px;"
              class="octo-arm">
        </path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor"
              class="octo-body">
        </path>
    </svg>
</a>
  <script src="https://outdated.legendu.net/theme/stork/stork.js"></script>
  <script>
    stork.register("sitesearch", "https://outdated.legendu.net/search-index.st", {showProgress: false});
  </script>

</body>
</html>