
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://outdated.legendu.net/theme/stylesheet/style.min.css">

    <link id="dark-theme-style" rel="stylesheet" type="text/css"
        disabled="disabled"
    href="https://outdated.legendu.net/theme/stylesheet/dark-theme.min.css">

    <link id="pygments-dark-theme" rel="stylesheet" type="text/css"
            disabled="disabled"
          href="https://outdated.legendu.net/theme/pygments/monokai.min.css">
    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="https://outdated.legendu.net/theme/pygments/github.min.css">


  <link rel="stylesheet"
        type="text/css"
        href="https://outdated.legendu.net/theme/stork/stork.css" />

  <link rel="stylesheet" type="text/css" href="https://outdated.legendu.net/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://outdated.legendu.net/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://outdated.legendu.net/theme/font-awesome/css/solid.css">







 

<meta name="author" content="Ben Chuanlong Du" />
<meta name="description" content="Things under legendu.net/outdated are outdated technologies that the author does not plan to update any more. Please look for better alternatives. ** Things under legendu.net/outdated are outdated technologies that the author does not plan to update any more. Please look for better alternatives. ** par(&#34;din&#34;) gets the …" />
<meta name="keywords" content="par, R, plot, graphics, programming, CRAN, visualization">


  <meta property="og:site_name" content="Ben Chuanlong Du's Blog"/>
  <meta property="og:title" content="Graphics in R"/>
  <meta property="og:description" content="Things under legendu.net/outdated are outdated technologies that the author does not plan to update any more. Please look for better alternatives. ** Things under legendu.net/outdated are outdated technologies that the author does not plan to update any more. Please look for better alternatives. ** par(&#34;din&#34;) gets the …"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="https://outdated.legendu.net/blog/graphics-in-r/"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2012-11-11 18:28:16-08:00"/>
  <meta property="article:modified_time" content="2016-06-11 18:28:16-07:00"/>
  <meta property="article:author" content="https://outdated.legendu.net/author/ben-chuanlong-du.html">
  <meta property="article:section" content="Programming"/>
  <meta property="article:tag" content="par"/>
  <meta property="article:tag" content="R"/>
  <meta property="article:tag" content="plot"/>
  <meta property="article:tag" content="graphics"/>
  <meta property="article:tag" content="programming"/>
  <meta property="article:tag" content="CRAN"/>
  <meta property="article:tag" content="visualization"/>
  <meta property="og:image" content="">

  <title>Ben Chuanlong Du's Blog &ndash; Graphics in R</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="https://outdated.legendu.net/">
      <img src="https://outdated.legendu.net/theme/img/profile.png" alt="" title="">
    </a>

    <h1>
      <a href="https://outdated.legendu.net/"></a>
    </h1>

    <p>Change is eternal.</p>

    <div class="stork">
      <input class="stork-input" type="text" autocomplete="off" name="q" data-stork="sitesearch" placeholder="Search..."/>
      <div class="stork-output" data-stork="sitesearch-output"></div>
    </div>


    <ul class="social">
      <li>
        <a class="sc-linkedin"
           href="https://www.linkedin.com/in/ben-chuanlong-du-1239b221/"
           target="_blank">
          <i class="fa-brands fa-linkedin"></i>
        </a>
      </li>
      <li>
        <a class="sc-github"
           href="https://github.com/legendu-net/"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
      <li>
        <a class="sc-stack-overflow"
           href="https://stackoverflow.com/users/7808204/benjamin-du?tab=profile"
           target="_blank">
          <i class="fa-brands fa-stack-overflow"></i>
        </a>
      </li>
      <li>
        <a class="sc-docker"
           href="https://hub.docker.com/u/dclong"
           target="_blank">
          <i class="fa-brands fa-docker"></i>
        </a>
      </li>
      <li>
        <a class="sc-twitter"
           href="https://twitter.com/longendu"
           target="_blank">
          <i class="fa-brands fa-twitter"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>

<nav>
  <a href="https://www.legendu.net">Home</a>
  <a href="https://outdated.legendu.net">Blog</a>
  <a href="https://outdated.legendu.net/archives.html">Archives</a>
  <a href="https://outdated.legendu.net/categories.html">Categories</a>
  <a href="https://outdated.legendu.net/tags.html">Tags</a>
  <a href="https://www.legendu.net/pages/about">About</a>


</nav>

<article class="single">
  <header>
      
    <h1 id="graphics-in-r">Graphics in R</h1>
    <p>
      Posted on Nov 11, 2012 in <a href="https://outdated.legendu.net/category/programming.html">Programming</a>

    </p>
  </header>


  <div>
    <p><strong>Things under legendu.net/outdated are outdated technologies that the author does not plan to update any more. Please look for better alternatives.</strong></p>
<p>**
Things under legendu.net/outdated are outdated technologies 
that the author does not plan to update any more. 
Please look for better alternatives.
**</p>
<ol>
<li>
<p><code>par("din")</code> gets the dimension 
(i.e. width and height) of the graphics device.
If no graphics device has been open, 
it opens a new one.</p>
</li>
<li>
<p>To force a plot to have a fixed aspect ratio, 
you can use option <code>asp=aspRatio</code> in plotting function. 
For example, <code>plot(x, y, asp=1)</code> makes a scatter plot with aspect ratio 1. 
This is helpful when you do not want a plot to get stretched.</p>
</li>
<li>
<p>The function <code>title</code> adds titles and axes labels for an existing plot,
so if you forget to specify a title 
or axes labels when you use produce a plot, 
you can use <code>title</code> to add them into the plot
instead of producing a new plot 
(sometimes it is very time-consuming to produce a plot, 
e.g., when you analyze gene data.). 
<code>legend</code> adds legends for an existing plot. 
For example, see the code which produces the following image (need to add title).</p>
</li>
</ol>
<p><img alt="image" src="./res/title-legend.pdf"></p>
<ol>
<li>
<p>Functions <code>pdf</code> and <code>postscript</code> starts the graphics device driver 
for producing <code>pdf</code> and <code>ps</code> graphics respectively, 
which are vectorgraph. 
Similarly, <code>jpeg</code>, <code>bmp</code>, <code>png</code> and <code>tiff</code> start graphics device driver 
for producing <code>jpeg</code>, <code>bmp</code>, <code>png</code> and <code>tiff</code> graphics, 
which are bitmaps.</p>
</li>
<li>
<p>There are several ways 
to divide a window device to sub window devices (to make plots on them). 
First, you can use <code>par</code>,
e.g. to divide a window device to <span class="math">\(2\times3\)</span> sub window devices, 
you can use <code>par(mfrow=c(2,3))</code> or  <code>par(mfcol=c(2,3))</code>. 
The difference between them is the first one display plots by rows 
while the second one display plots by columns. 
Second, 
you can use <code>layout{graphics}</code>, 
e.g. to divide a window device to two parts vertically 
and then further divide the bottom part into two horizontal parts, 
you can use <code>layout(matrix(c(1,2,1,3)))</code>. 
Same values in the matrix stand for the same area, 
and they also stand for the order they get used 
among all the sub window devices. 
Third,
you can use <code>split.screen</code>, 
e.g., 
to achieve what we did using <code>layout</code>, 
you can use the following command</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nf">split.screen</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">1</span><span class="p">))</span>
<span class="nf">split.screen</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">),</span><span class="m">2</span><span class="p">)</span>
</code></pre></div>

<p>To make a plot on sub window device generated by <code>split.screen</code>, 
you must first active it. 
If you use functions in <code>lattice</code>, 
you will find that these basically ignore all these 3 functions. 
<code>lattice</code> has its own way to split window devices. 
To do this, 
you have first save plots made by functions in <code>lattice</code>, 
and then print these plot at appropriate locations using the generic <code>print</code>. 
For example, 
the following code make two plots using functions in <code>lattice</code>, 
and then using <code>print</code> to display them vertically.</p>
<div class="highlight"><pre><span></span><code><span class="n">px1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">histogram</span><span class="p">(</span><span class="nf">rnorm</span><span class="p">(</span><span class="m">1000</span><span class="p">))</span>
<span class="n">px2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">bwplot</span><span class="p">(</span><span class="nf">rnorm</span><span class="p">(</span><span class="m">1000</span><span class="p">))</span>
<span class="c1"># arrange the 2 plots vertically</span>
<span class="nf">print</span><span class="p">(</span><span class="n">px1</span><span class="p">,</span><span class="w"> </span><span class="n">position</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0.6</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="n">more</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">px2</span><span class="p">,</span><span class="w"> </span><span class="n">position</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">0.4</span><span class="p">))</span>
</code></pre></div>

<p>The first 2 values and the last 2 (3rd and last) values of the option <code>position</code> 
stand for x and y coordinates of the bottom-left and top-right corner, 
respectively,
of the panel to display the corresponding plot. 
Generally speaking, 
<code>par</code> is most easy one to use, 
but it can only divide a window device into rectangular sub window devices, 
and you must make plots in the right order for them to show up at the right places;<br>
<code>layout</code> is also easy to use. 
You can divide a window device into irregular shapes, 
but still you have to make plots in the right order 
to make them to show up at the right place;
<code>split.screen</code> is not as convenient as <code>par</code> and <code>layout</code>, 
but you can divide a window device into irregular sub window devices and
make plot on any sub window device (by calling <code>screen</code> first) whenever you want; 
perhaps it is most inconvenient to use <code>lattice</code> to achieve the same purpose. 
You must use functions in <code>lattice</code>, 
and you have to calculate positions for each sub window device 
and pass it to <code>print</code>. 
But <code>lattice</code> has some unique plotting functions 
and it uses more advanced technologies, 
you can reuse saved plots instead of replotting them every time. 
This is similar to how Mathematica handles graphics. 
My suggestion is that you never use <code>lattice</code> for this kind of job unless necessary.</p>
<ol>
<li>
<p>Function <code>plot</code> is a generic function 
(actually many functions in R are generic functions), 
which be applied to many different types of objects in R.</p>
</li>
<li>
<p>Function <code>boxplot</code> can make plot of different data sets without
using function par().</p>
</li>
<li>
<p>Into order to recover to the default graph setting, we can save the
information of <code>par</code> first and reuse it whenever we want to go back
to the default settings.</p>
</li>
<li>
<p><code>points</code> add points to a graph; <code>segments</code> add segments to a graph.
Though these job can be done by <code>plot</code>, these low level functions
are still useful.</p>
</li>
<li>
<p>Mathematica symbols can be used in title and labels of plots
using the <code>expression</code> function. 
For example,</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nf">plot</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="n">xlab</span><span class="o">=</span><span class="nf">expression</span><span class="p">(</span><span class="n">alpha</span><span class="o">+</span><span class="n">beta</span><span class="p">))</span>
</code></pre></div>

<ol>
<li>
<p>We can use math expression when plot a graph. To do this, we just
need specify the corresponding label as <code>expression(expr)</code>, where
"expr" is an appropriate expression in R. For example, if we want to
use Greek symbol <span class="math">\(\alpha\)</span>, we can specify "xlab=expression(alpha)".
Whenver we forget how to write mathematica expressions, we can type
in command "demo(plotmath)" which will display corresponding
expression in R for all kinds of math expressions.</p>
</li>
<li>
<p><code>sna::gplot.arrow</code> makes neat arrows.</p>
</li>
<li>
<p><code>plot(..., type = "h")</code> gives us needle plot</p>
</li>
<li>
<p><code>chull</code> computes convex hull of a given set.</p>
</li>
<li>
<p><code>dev.copy2pdf</code> copies the graphics content on the current graphics
device to a pdf file.</p>
</li>
<li>
<p>You'd better use pdf with dev.off() to make plots, 
this is a universal way ...<br>
avoid problems when working on remote servers</p>
</li>
</ol>
<p><a href="http://ggplot2.org/book/">ggplot2 Book</a></p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js','color.js','mhchem.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://outdated.legendu.net/tag/par.html">par</a>
      <a href="https://outdated.legendu.net/tag/r.html">R</a>
      <a href="https://outdated.legendu.net/tag/plot.html">plot</a>
      <a href="https://outdated.legendu.net/tag/graphics.html">graphics</a>
      <a href="https://outdated.legendu.net/tag/programming.html">programming</a>
      <a href="https://outdated.legendu.net/tag/cran.html">CRAN</a>
      <a href="https://outdated.legendu.net/tag/visualization.html">visualization</a>
    </p>
  </div>






<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'dclong';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy;  </p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
  <span class="footer-separator">|</span>
  Switch to the <a href="javascript:void(0)" onclick="theme.switch(`dark`)">dark</a> | <a href="javascript:void(0)" onclick="theme.switch(`light`)">light</a> | <a href="javascript:void(0)" onclick="theme.switch(`browser`)">browser</a> theme
  <script id="dark-theme-script"
          src="https://outdated.legendu.net/theme/dark-theme/dark-theme.min.js"
          data-enable-auto-detect-theme="False"
          data-default-theme="light"
          type="text/javascript">
  </script>
</p></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Ben Chuanlong Du's Blog ",
  "url" : "https://outdated.legendu.net",
  "image": "",
  "description": ""
}
</script><a href="https://github.com/dclong/outdated" target="_blank" class="github-corner" aria-label="View source on Github">
    <svg width="80"
         height="80"
         viewBox="0 0 250 250"
         style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;"
         aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor"
              style="transform-origin: 130px 106px;"
              class="octo-arm">
        </path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor"
              class="octo-body">
        </path>
    </svg>
</a>
  <script src="https://outdated.legendu.net/theme/stork/stork.js"></script>
  <script>
    stork.register("sitesearch", "https://outdated.legendu.net/search-index.st", {showProgress: false});
  </script>

</body>
</html>